import json
import os

result = {"3102": {"weekdays": [], "sat": [], "sun": []}, "10-1": {"weekdays": [], "sat": [], "sun": []}}
string_3102_week = "05:30/05:50/06:05/06:20/06:35/06:45/06:55/07:10/07:30/07:50/08:10/08:40/09:10/09:35/10:00/10:20/10:40/11:00/11:20/11:40/12:00/12:20/12:40/13:00/13:25/13:50/14:10/14:30/14:50/15:10/15:30/15:50/16:10/16:30/16:50/17:05/17:20/17:40/18:00/18:20/18:45/19:10/19:40/20:05/20:20/20:40/21:00/21:15/21:30/21:50/22:10/22:30/22:50/23:10/23:30"
string_3102_sat = "05:30/06:00/06:30/06:50/07:10/07:30/07:50/08:10/08:40/09:10/09:40/10:10/10:40/11:10/11:40/12:10/12:40/13:00/13:30/14:00/14:30/15:00/15:30/16:00/16:30/17:00/17:30/18:00/18:30/19:00/19:30/20:00/20:25/20:50/21:15/21:40/22:10/22:40/23:05/23:30"
string_3102_sun = "05:30/06:00/06:30/06:50/07:10/07:30/07:50/08:10/08:40/09:10/09:40/10:10/10:40/11:10/11:40/12:10/12:40/13:00/13:30/14:00/14:30/15:00/15:30/16:00/16:30/17:00/17:30/18:00/18:30/19:00/19:30/20:00/20:25/20:50/21:15/21:40/22:10/22:40/23:05/23:30"
string_10_1_week = "06:30/07:00/07:30/08:00/08:25/08:50/09:15/09:40/10:05/10:30/11:20/12:00/12:50/13:20/13:45/14:10/14:40/15:05/15:35/16:00/16:50/17:30/18:20/18:45/19:15/19:40/20:10/20:35/21:00/21:35/22:30"

for x in string_3102_week.split("/"):
    result['3102']['weekdays'].append({"time": x})

for x in string_3102_sat.split("/"):
    result['3102']['sat'].append({"time": x})

for x in string_3102_sun.split("/"):
    result['3102']['sun'].append({"time": x})

for x in string_10_1_week.split("/"):
    result['10-1']['weekdays'].append({"time": x})
    result['10-1']['sat'].append({"time": x})
    result['10-1']['sun'].append({"time": x})

with open(f'{os.path.dirname(__file__)}/bus/timetable.json', 'w', encoding='utf-8') as f:
    json.dump(result, f, indent='\t', ensure_ascii=False)
